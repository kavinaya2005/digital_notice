<!DOCTYPE html>
<html>
<head>
    <title>Login | Digital Notice Board</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<!-- Login Form -->
<form id="loginForm" method="POST" action="/">
    <h2>Digital Notice Board Login</h2>

    {% if error %}
        <p style="color: red; text-align: center;">{{ error }}</p>
    {% endif %}

    <input type="text" name="username" placeholder="Username" required>
    <input type="password" name="password" placeholder="Password" required>

    <button type="submit">Login</button>
    
    <p style="text-align: center; margin-top: 15px;">
        Don't have an account? 
        <a href="#" onclick="toggleForm(event)" style="color: #1d2671; text-decoration: underline; display: inline; background: none; padding: 0; margin: 0;">Sign Up</a>
    </p>
</form>

<!-- Signup Form -->
<form id="signupForm" method="POST" action="{{ url_for('signup') }}" style="display: none;">
    <h2>Create Account</h2>

    {% if signup_error %}
        <p style="color: red; text-align: center;">{{ signup_error }}</p>
    {% endif %}

    {% if signup_success %}
        <p style="color: green; text-align: center;">{{ signup_success }}</p>
    {% endif %}

    <input type="text" name="username" placeholder="Username" required>
    <input type="email" name="email" placeholder="Email Address" required>
    <input type="password" name="password" placeholder="Password" required>
    <input type="password" name="confirm_password" placeholder="Confirm Password" required>

    <!-- New: role select -->
    <label for="role" style="display:block; text-align:center; margin-top:8px;">Role</label>
    <select name="role" id="role" required>
        <option value="Student" selected>Student</option>
        <option value="Admin">Admin</option>
        <option value="HOD">HOD</option>
        <option value="Faculty">Faculty</option>
        <option value="Placement">Placement</option>
        <option value="Exam">Exam</option>
    </select>

    <!-- New: department (optional) -->
    <input type="text" name="department" placeholder="Department (optional, e.g., CSE or General)">


    <button type="submit">Sign Up</button>
    
    <p style="text-align: center; margin-top: 15px;">
        Already have an account? 
        <a href="#" onclick="toggleForm(event)" style="color: #1d2671; text-decoration: underline; display: inline; background: none; padding: 0; margin: 0;">Login</a>
    </p>
</form>

<script>
function toggleForm(event) {
    event.preventDefault();
    const loginForm = document.getElementById('loginForm');
    const signupForm = document.getElementById('signupForm');
    
    if (loginForm.style.display === 'none') {
        loginForm.style.display = 'block';
        signupForm.style.display = 'none';
    } else {
        loginForm.style.display = 'none';
        signupForm.style.display = 'block';
    }
}
</script>

</body>
</html>


